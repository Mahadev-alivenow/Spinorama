import{j as u}from"./jsx-runtime-DlxonYWr.js";import{r as i,R as a}from"./index-DL0tHwE6.js";import{a as k,b as L,F as P}from"./components-JNt_2cPA.js";import{s as b,t as f,o as T,x as M,E as R,k as _,y as w,z as N,A as O,C as I,D,F,G as B,H as j,J as H,K as W,S as $,N as K,P as V,T as G,O as z,a as U}from"./Page-DKdyrWfp.js";import{F as J,S as Q}from"./context-BgRRd8lc.js";import{C as X}from"./Card-ZfXEG-2S.js";import{F as Z}from"./FormLayout-CaB1gIpA.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-a8qEWjHG.js";import"./index-DRO-3EAr.js";const v="data-lock-scrolling",E="data-lock-scrolling-hidden",C="data-lock-scrolling-wrapper";let m=0;function Y(){const{body:r}=document;return r.scrollHeight>r.clientHeight}class q{constructor(){this.scrollLocks=0,this.locked=!1}registerScrollLock(){this.scrollLocks+=1,this.handleScrollLocking()}unregisterScrollLock(){this.scrollLocks-=1,this.handleScrollLocking()}handleScrollLocking(){if(b)return;const{scrollLocks:e}=this,{body:t}=document,n=t.firstElementChild;e===0?(t.removeAttribute(v),t.removeAttribute(E),n&&n.removeAttribute(C),window.scroll(0,m),this.locked=!1):e>0&&!this.locked&&(m=window.pageYOffset,t.setAttribute(v,""),Y()||t.setAttribute(E,""),n&&(n.setAttribute(C,""),n.scrollTop=m),this.locked=!0)}resetScrollPosition(){m=0}}const ee=/\[(.*?)\]|(\w+)/g;function y(r,e,t){if(r==null)return;const n=Array.isArray(e)?e:te(e);let s=r;for(let o=0;o<n.length;o++){const l=s[n[o]];if(l===void 0)return t;s=l}return s}function te(r){const e=[];let t;for(;t=ee.exec(r);){const[,n,s]=t;e.push(n||s)}return e}function ne(...r){let e={};for(const t of r)e=A(e,t);return e}function A(r,e){const t=Array.isArray(r)?[...r]:{...r};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))S(e[n])&&S(t[n])?t[n]=A(t[n],e[n]):t[n]=e[n];else continue;return t}function S(r){return r!==null&&typeof r=="object"}const re=/{([^}]*)}/g;class x{constructor(e){this.translation={},this.translation=Array.isArray(e)?ne(...e.slice().reverse()):e}translate(e,t){const n=y(this.translation,e,"");return n?t?n.replace(re,s=>{const o=s.substring(1,s.length-1);if(t[o]===void 0){const l=JSON.stringify(t);throw new Error(`Error in translation for key '${e}'. No replacement found for key '${o}'. The following replacements were passed: '${l}'`)}return t[o]}):n:""}translationKeyExists(e){return!!y(this.translation,e)}}const se=i.createContext(void 0),oe=function({children:e}){const[t,n]=i.useState(f().matches),s=i.useCallback(T(()=>{t!==f().matches&&n(!t)},40,{trailing:!0,leading:!0,maxWait:40}),[t]);i.useEffect(()=>{n(f().matches)},[]);const o=i.useMemo(()=>({isNavigationCollapsed:t}),[t]);return a.createElement(M.Provider,{value:o},a.createElement(R,{event:"resize",handler:s}),e)};function ae(r,e){return a.createElement("div",{id:"PolarisPortalsContainer",ref:e})}const ie=i.forwardRef(ae);function le({children:r,container:e}){const t=_(),n=i.useRef(null),s=i.useMemo(()=>e?{container:e}:t?{container:n.current}:{container:null},[e,t]);return a.createElement(w.Provider,{value:s},r,e?null:a.createElement(ie,{ref:n}))}function ce({children:r}){const[e,t]=i.useState([]),n=i.useCallback(l=>{t(c=>[...c,l])},[]),s=i.useCallback(l=>{let c=!0;return t(p=>{const d=[...p],g=d.indexOf(l);return g===-1?c=!1:d.splice(g,1),d}),c},[]),o=i.useMemo(()=>({trapFocusList:e,add:n,remove:s}),[n,e,s]);return a.createElement(J.Provider,{value:o},r)}const ue={tooltip:0,hovercard:0};function de({children:r}){const[e,t]=i.useState(ue),n=i.useCallback(l=>{t(c=>({...c,[l]:c[l]+1}))},[]),s=i.useCallback(l=>{t(c=>({...c,[l]:c[l]-1}))},[]),o=i.useMemo(()=>({presenceList:Object.entries(e).reduce((l,c)=>{const[p,d]=c;return{...l,[p]:d>=1}},{}),presenceCounter:e,addPresence:n,removePresence:s}),[n,s,e]);return a.createElement(N.Provider,{value:o},r)}const me=20,h=30,he=h+10;function pe(){var s;const r=document.createElement("div");r.setAttribute("style",`position: absolute; opacity: 0; transform: translate3d(-9999px, -9999px, 0); pointer-events: none; width:${h}px; height:${h}px;`);const e=document.createElement("div");e.setAttribute("style",`width:100%; height: ${he}; overflow:scroll; scrollbar-width: thin;`),r.appendChild(e),document.body.appendChild(r);const t=h-(((s=r.firstElementChild)==null?void 0:s.clientWidth)??0),n=Math.min(t,me);document.documentElement.style.setProperty("--pc-app-provider-scrollbar-width",`${n}px`),document.body.removeChild(r)}class fe extends i.Component{constructor(e){super(e),this.setBodyStyles=()=>{document.body.style.backgroundColor="var(--p-color-bg)",document.body.style.color="var(--p-color-text)"},this.setRootAttributes=()=>{const s=this.getThemeName();O.forEach(o=>{document.documentElement.classList.toggle(I(o),o===s)})},this.getThemeName=()=>this.props.theme??D,this.stickyManager=new F,this.scrollLockManager=new q;const{i18n:t,linkComponent:n}=this.props;this.state={link:n,intl:new x(t)}}componentDidMount(){if(document!=null){this.stickyManager.setContainer(document),this.setBodyStyles(),this.setRootAttributes();const e=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.userAgent.includes("Version/16.1")||navigator.userAgent.includes("Version/16.2")||navigator.userAgent.includes("Version/16.3")),t=navigator.userAgent.includes("Shopify Mobile/iOS")&&(navigator.userAgent.includes("OS 16_1")||navigator.userAgent.includes("OS 16_2")||navigator.userAgent.includes("OS 16_3"));(e||t)&&document.documentElement.classList.add("Polaris-Safari-16-Font-Optical-Sizing-Patch")}pe()}componentDidUpdate({i18n:e,linkComponent:t}){const{i18n:n,linkComponent:s}=this.props;this.setRootAttributes(),!(n===e&&s===t)&&this.setState({link:s,intl:new x(n)})}render(){const{children:e,features:t}=this.props,n=this.getThemeName(),{intl:s,link:o}=this.state;return a.createElement(B.Provider,{value:n},a.createElement(j.Provider,{value:H(n)},a.createElement(se.Provider,{value:t},a.createElement(W.Provider,{value:s},a.createElement(Q.Provider,{value:this.scrollLockManager},a.createElement($.Provider,{value:this.stickyManager},a.createElement(K.Provider,{value:o},a.createElement(oe,null,a.createElement(le,null,a.createElement(ce,null,a.createElement(de,null,e)))))))))))}}const ge="/assets/styles-Cg-8NA1P.css",be=()=>[{rel:"stylesheet",href:ge}];function Te(){const r=k(),e=L(),[t,n]=i.useState(""),{errors:s}=e||r;return u.jsx(fe,{i18n:r.polarisTranslations,children:u.jsx(V,{children:u.jsx(X,{children:u.jsx(P,{method:"post",children:u.jsxs(Z,{children:[u.jsx(G,{variant:"headingMd",as:"h2",children:"Log in"}),u.jsx(z,{type:"text",name:"shop",label:"Shop domain",helpText:"example.myshopify.com",value:t,onChange:n,autoComplete:"on",error:s.shop}),u.jsx(U,{submit:!0,children:"Log in"})]})})})})})}export{Te as default,be as links};
