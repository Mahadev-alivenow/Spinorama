import{j as t}from"./jsx-runtime-DlxonYWr.js";import{R as e,r as l}from"./index-BWtVRBRF.js";import{_ as yt}from"./index-CSX1f1C-.js";import{I as ze,M as R,b as Ct,A as Pt,a as Ce,c as fe}from"./AdminLayout-DJ54ks6b.js";import{d as w,n as He,c as K,b as Y,I as A,T as k,u as ne,o as at,p as ie,a as ee,f as ue,q as nt,r as ce,A as jt,U as st,s as lt,t as rt,x as oe,y as Mt,h as St,v as At,P as It,B as W,e as kt}from"./Page-Cs8M2REd.js";import{L as Ke}from"./Layout-Z9CN42u6.js";import{C as Re}from"./Card-DDZrGoHq.js";import{u as wt}from"./context-4EGy5I4_.js";import{F as Ze}from"./FormLayout-BRyQ7Les.js";import{S as Je,D as Nt}from"./Select-axXa_dhh.js";import"./_commonjsHelpers-gnU0ypJ3.js";import"./index-Crcs4hqE.js";import"./index-DjMk7jIJ.js";import"./within-content-context-Iy9P2FMi.js";import"./context-bB9LgXOD.js";import"./Link-jPbG4RC_.js";var ot=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),e.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};ot.displayName="DeleteIcon";var ct=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M11.25 8.5c-.414 0-.75.336-.75.75v1.25h-1.25c-.414 0-.75.336-.75.75s.336.75.75.75h1.25v1.25c0 .414.336.75.75.75s.75-.336.75-.75v-1.25h1.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-1.25v-1.25c0-.414-.336-.75-.75-.75Z"}),e.createElement("path",{fillRule:"evenodd",d:"M8.75 16.5c-1.438 0-2.618-1.104-2.74-2.51-1.406-.122-2.51-1.302-2.51-2.74v-5c0-1.519 1.231-2.75 2.75-2.75h5c1.438 0 2.618 1.104 2.74 2.51 1.406.122 2.51 1.302 2.51 2.74v5c0 1.519-1.231 2.75-2.75 2.75h-5Zm0-10.5c-1.519 0-2.75 1.231-2.75 2.75v3.725c-.57-.116-1-.62-1-1.225v-5c0-.69.56-1.25 1.25-1.25h5c.605 0 1.11.43 1.225 1h-3.725Zm0 1.5c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25h-5Z"}))};ct.displayName="DuplicateIcon";var it=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.655 4.344a2.695 2.695 0 0 0-3.81 0l-.599.599-.009-.009-1.06 1.06.008.01-5.88 5.88a2.75 2.75 0 0 0-.805 1.944v1.922a.75.75 0 0 0 .75.75h1.922a2.75 2.75 0 0 0 1.944-.806l7.54-7.539a2.695 2.695 0 0 0 0-3.81Zm-4.409 2.72-5.88 5.88a1.25 1.25 0 0 0-.366.884v1.172h1.172c.331 0 .65-.132.883-.366l5.88-5.88-1.689-1.69Zm2.75.629.599-.599a1.195 1.195 0 1 0-1.69-1.689l-.598.599 1.69 1.689Z"}))};it.displayName="EditIcon";var ut=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),e.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};ut.displayName="InfoIcon";var dt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M3 6.75c0-2.071 1.679-3.75 3.75-3.75h6.5c2.071 0 3.75 1.679 3.75 3.75v6.5c0 2.071-1.679 3.75-3.75 3.75h-6.5c-2.071 0-3.75-1.679-3.75-3.75v-6.5Zm3.75-2.25c-1.243 0-2.25 1.007-2.25 2.25v6.5c0 1.243 1.007 2.25 2.25 2.25h.5v-11h-.5Zm4.5 11h-2.5v-11h2.5v11Zm1.5 0h.5c1.243 0 2.25-1.007 2.25-2.25v-6.5c0-1.243-1.007-2.25-2.25-2.25h-.5v11Z"}))};dt.displayName="LayoutColumns3Icon";var mt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};mt.displayName="PlusIcon";var ae={ImageContainer:"Polaris-EmptyState__ImageContainer",Image:"Polaris-EmptyState__Image",loaded:"Polaris-EmptyState--loaded",imageContained:"Polaris-EmptyState--imageContained",SkeletonImageContainer:"Polaris-EmptyState__SkeletonImageContainer",SkeletonImage:"Polaris-EmptyState__SkeletonImage"};function Dt({children:a,heading:n,image:r,largeImage:d,imageContained:T,fullWidth:f=!1,action:v,secondaryAction:s,footerContent:u}){const[c,m]=l.useState(!1),b=l.useCallback(()=>{m(!0)},[]),h=w(ae.Image,c&&ae.loaded,T&&ae.imageContained),x=d?e.createElement(ze,{alt:"",role:"presentation",source:d,className:h,sourceSet:[{source:r,descriptor:"568w"},{source:d,descriptor:"1136w"}],sizes:"(max-width: 568px) 60vw",onLoad:b}):e.createElement(ze,{alt:"",role:"presentation",className:h,source:r,onLoad:b}),g=w(ae.SkeletonImage,c&&ae.loaded),P=w(ae.ImageContainer,!c&&ae.SkeletonImageContainer),p=e.createElement("div",{className:P},x,e.createElement("div",{className:g})),y=s?He(s,{}):null,S=u?e.createElement(K,{paddingBlockStart:"400"},e.createElement(k,{as:"span",alignment:"center",variant:"bodySm"},u)):null,_=v?He(v,{variant:"primary",size:"medium"}):null,L=n?e.createElement(K,{paddingBlockEnd:"150"},e.createElement(k,{variant:"headingMd",as:"p",alignment:"center"},n)):null,I=a?e.createElement(k,{as:"span",alignment:"center",variant:"bodySm"},a):null,M=L||a?e.createElement(K,{paddingBlockEnd:"400"},L,I):null,J=_||y?e.createElement(A,{align:"center",gap:"200"},y,_):null,B=M||J||S?e.createElement(K,{maxWidth:f?"100%":"400px"},e.createElement(Y,{inlineAlign:"center"},M,J,S)):null;return e.createElement(K,{paddingInlineStart:"0",paddingInlineEnd:"0",paddingBlockStart:"500",paddingBlockEnd:"1600"},e.createElement(Y,{inlineAlign:"center"},p,B))}function Ve({acceptCharset:a,action:n,autoComplete:r,children:d,encType:T,implicitSubmit:f=!0,method:v="post",name:s,noValidate:u,preventDefault:c=!0,target:m,onSubmit:b}){const h=ne(),x=l.useCallback(p=>{c&&(p.preventDefault(),b(p))},[b,c]),g=_t(r),P=f?e.createElement(k,{as:"span",visuallyHidden:!0},e.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},h.translate("Polaris.Common.submit"))):null;return e.createElement("form",{acceptCharset:a,action:n,autoComplete:g,encType:T,method:v,name:s,noValidate:u,target:m,onSubmit:x},P,d)}function _t(a){return a==null?a:a?"on":"off"}function Lt(){const[a,n]=l.useState(!1),r=l.useCallback(()=>n(!0),[]);return at("touchstart",r),a}function qe(a){const n=l.useRef();return l.useEffect(()=>{n.current=a},[a]),n.current}function Ge(a,n,r,d,T){const f=d.reduce((c,m)=>c+m,0),v=a.map((c,m)=>m),s=[],u=[];if(T>f)s.push(...v);else{s.push(n);let c=d[n];v.forEach(m=>{if(m!==n){const b=d[m];if(c+b>=T-r){u.push(m);return}s.push(m),c+=b}})}return{visibleTabs:s,hiddenTabs:u}}var E={Outer:"Polaris-Tabs__Outer",Wrapper:"Polaris-Tabs__Wrapper",WrapperWithNewButton:"Polaris-Tabs__WrapperWithNewButton",ButtonWrapper:"Polaris-Tabs__ButtonWrapper",Tabs:"Polaris-Tabs",Tab:"Polaris-Tabs__Tab","Tab-active":"Polaris-Tabs__Tab--active","Tab-hasActions":"Polaris-Tabs__Tab--hasActions","Tab-iconOnly":"Polaris-Tabs__Tab--iconOnly",fillSpace:"Polaris-Tabs--fillSpace",TabContainer:"Polaris-Tabs__TabContainer",fitted:"Polaris-Tabs--fitted",List:"Polaris-Tabs__List",Item:"Polaris-Tabs__Item",DisclosureTab:"Polaris-Tabs__DisclosureTab","DisclosureTab-visible":"Polaris-Tabs__DisclosureTab--visible",DisclosureActivator:"Polaris-Tabs__DisclosureActivator",TabsMeasurer:"Polaris-Tabs__TabsMeasurer",NewTab:"Polaris-Tabs__NewTab",ActionListWrap:"Polaris-Tabs__ActionListWrap",Panel:"Polaris-Tabs__Panel","Panel-hidden":"Polaris-Tabs__Panel--hidden"};const We=40;function Bt({open:a,isModalLoading:n,name:r,onClose:d,onClickPrimaryAction:T,onClickSecondaryAction:f,helpText:v,viewNames:s}){const u=ne(),[c,m]=l.useState(r),b=l.useRef(null),h=s==null?void 0:s.some(y=>y.trim().toLowerCase()===c.trim().toLowerCase()),x=n||h||!c||c.length>We;l.useEffect(()=>{b.current&&a&&ie(b.current)},[a]),l.useEffect(()=>{a&&m(r.slice(0,We))},[r,a]);const g=l.useCallback(y=>{m(y)},[]);async function P(){x||(await T(c),m(""),d())}function p(){f==null||f(),m(r),d()}return e.createElement(R,{open:a,onClose:d,title:u.translate("Polaris.Tabs.DuplicateModal.title"),primaryAction:{content:u.translate("Polaris.Tabs.DuplicateModal.create"),onAction:P,disabled:x},secondaryActions:[{content:u.translate("Polaris.Tabs.DuplicateModal.cancel"),onAction:p}],instant:!0},e.createElement(R.Section,null,e.createElement(Ve,{onSubmit:P},e.createElement(Ze,null,e.createElement("div",{ref:b},e.createElement(ee,{label:u.translate("Polaris.Tabs.DuplicateModal.label"),value:c,onChange:g,autoComplete:"off",helpText:v,maxLength:We,showCharacterCount:!0,error:h?u.translate("Polaris.Tabs.DuplicateModal.errors.sameName",{name:c}):void 0}))))))}function Ft({open:a,isModalLoading:n,name:r,onClose:d,onClickPrimaryAction:T,onClickSecondaryAction:f,helpText:v,viewNames:s}){const u=ne(),[c,m]=l.useState(r),b=l.useRef(null),h=s==null?void 0:s.filter(y=>y!==r).some(y=>y.trim().toLowerCase()===c.trim().toLowerCase()),x=n||h||c===r||!c;l.useEffect(()=>{b.current&&a&&ie(b.current)},[a]),l.useEffect(()=>{a&&m(r)},[r,a]);const g=l.useCallback(y=>{m(y)},[]);async function P(){x||(await T(c),m(""),d())}function p(){f==null||f(),m(r),d()}return e.createElement(R,{open:a,onClose:d,title:u.translate("Polaris.Tabs.RenameModal.title"),primaryAction:{content:u.translate("Polaris.Tabs.RenameModal.create"),onAction:P,disabled:x},secondaryActions:[{content:u.translate("Polaris.Tabs.RenameModal.cancel"),onAction:p}],instant:!0},e.createElement(R.Section,null,e.createElement(Ve,{onSubmit:P},e.createElement(Ze,null,e.createElement("div",{ref:b},e.createElement(ee,{label:u.translate("Polaris.Tabs.RenameModal.label"),value:c,onChange:g,autoComplete:"off",helpText:v,maxLength:40,showCharacterCount:!0,error:h?u.translate("Polaris.Tabs.RenameModal.errors.sameName",{name:c}):void 0}))))))}const je=l.forwardRef(({content:a,accessibilityLabel:n,badge:r,id:d,panelID:T,url:f,onAction:v,actions:s,disabled:u,isModalLoading:c,icon:m,siblingTabHasFocus:b,measuring:h,focused:x,selected:g,onToggleModal:P,onTogglePopover:p,viewNames:y,tabIndexOverride:S,onFocus:_},L)=>{const I=ne(),[M,J]=l.useState(!1),[B,de]=l.useState(null),me=l.useRef(g),F=l.useRef(!1),O=l.useRef(null);l.useEffect(()=>{p(M)},[M,p]),l.useEffect(()=>{P(!!B)},[B,P]),l.useEffect(()=>()=>{P(!1),p(!1)},[P,p]),l.useEffect(()=>{if(h)return;(x||document.activeElement&&document.activeElement.id===d)&&g&&T!=null&&!F.current&&(Xe(T),F.current=!0),g&&!me.current&&T!=null?Xe(T):x&&O.current!=null&&B==null&&!u&&ie(O.current),me.current=g},[x,d,a,h,T,g,B,u]);let te;g&&!b&&!h||x&&!h?te=0:te=-1,S!=null&&(te=S);const H=s==null?void 0:s.find(C=>C.type==="rename"),Z=s==null?void 0:s.find(C=>C.type==="duplicate"),V=s==null?void 0:s.find(C=>C.type==="delete"),se=l.useCallback(()=>{s!=null&&s.length&&J(C=>!C)},[s]),be=l.useCallback(()=>{u||(g?se():v==null||v())},[g,v,se,u]),Me=C=>{de(C)},q=()=>{de(null)},Se=l.useCallback(async C=>{var $;await(($=H==null?void 0:H.onPrimaryAction)==null?void 0:$.call(H,C)),setTimeout(()=>{O.current&&ie(O.current)},250)},[H]),Ae=l.useCallback(async()=>{var C;await((C=V==null?void 0:V.onPrimaryAction)==null?void 0:C.call(V,a)),q()},[V,a]),Ie=l.useCallback(async C=>{var $;await(($=Z==null?void 0:Z.onPrimaryAction)==null?void 0:$.call(Z,C))},[Z]),ke={rename:{icon:ut,content:I.translate("Polaris.Tabs.Tab.rename")},duplicate:{icon:ct,content:I.translate("Polaris.Tabs.Tab.duplicate")},edit:{icon:it,content:I.translate("Polaris.Tabs.Tab.edit")},"edit-columns":{icon:dt,content:I.translate("Polaris.Tabs.Tab.editColumns")},delete:{icon:ot,content:I.translate("Polaris.Tabs.Tab.delete"),destructive:!0}},ve=s==null?void 0:s.map(({type:C,onAction:$,onPrimaryAction:gt,...ye})=>{const Fe=!C.includes("edit");return{...ke[C],...ye,onAction:()=>{$==null||$(a),se(),Fe&&Me(C)}}}),ge=l.useCallback(C=>{C.key===" "&&(C.preventDefault(),be())},[be]),we=w(E.TabContainer,g&&E.Underline),he=u||g?void 0:f,Ne=he?st:lt,De=w(E.Tab,m&&E["Tab-iconOnly"],M&&E["Tab-popoverActive"],g&&E["Tab-active"],g&&(s==null?void 0:s.length)&&E["Tab-hasActions"]),_e=r?e.createElement(oe,{tone:g?void 0:"new"},r):null,Te=g&&(s!=null&&s.length)?e.createElement("div",{className:w(E.IconWrap)},e.createElement(ue,{source:nt})):null,le=e.createElement(Ne,{id:d,className:De,tabIndex:te,"aria-selected":g,"aria-controls":T,"aria-label":n,role:S==null?"tab":void 0,disabled:u,url:he,onFocus:_,onMouseUp:rt,onClick:be,onKeyDown:ge},e.createElement(A,{gap:"200",align:"center",blockAlign:"center",wrap:!1},e.createElement(k,{as:"span",variant:"bodySm",fontWeight:"medium"},m??a),_e),Te),Ee=!g||!(s!=null&&s.length),re=H?e.createElement(Ft,{name:a,open:B==="rename",onClose:q,onClickPrimaryAction:Se,isModalLoading:c,viewNames:y}):null,Le=Z?e.createElement(Bt,{open:B==="duplicate",name:I.translate("Polaris.Tabs.Tab.copy",{name:a}),onClose:q,onClickPrimaryAction:Ie,isModalLoading:c,viewNames:y||[]}):null,Be=V?e.createElement(R,{open:B==="delete",onClose:q,primaryAction:{content:I.translate("Polaris.Tabs.Tab.deleteModal.delete"),onAction:Ae,destructive:!0,disabled:c},secondaryActions:[{content:I.translate("Polaris.Tabs.Tab.deleteModal.cancel"),onAction:q}],title:I.translate("Polaris.Tabs.Tab.deleteModal.title"),instant:!0},e.createElement(R.Section,null,I.translate("Polaris.Tabs.Tab.deleteModal.description",{viewName:a}))):null,xe=Ee||u?le:e.createElement(e.Fragment,null,e.createElement(ce,{active:M,activator:le,autofocusTarget:"first-node",onClose:se},e.createElement("div",{className:E.ActionListWrap},e.createElement(jt,{actionRole:"menuitem",items:ve}))),re,Le,Be);return m?xe:e.createElement("li",{className:we,ref:Wt([O,L]),role:"presentation"},xe)});je.displayName="Tab";function Xe(a){const n=document.getElementById(a);n&&n.focus({preventScroll:!0})}function Wt(a){return n=>{for(const r of a)r!=null&&(r.current=n)}}const Rt=l.memo(function({selected:n,tabs:r,activator:d,tabToFocus:T,siblingTabHasFocus:f,handleMeasurement:v}){const s=l.useRef(null),u=l.useRef(null),c=l.useCallback(()=>{u.current&&cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{if(!s.current)return;const h=s.current.offsetWidth-20-28,x=s.current.children,P=Array.from(x).map(y=>Math.ceil(y.getBoundingClientRect().width)+4),p=P.pop()||0;v({containerWidth:h,disclosureWidth:p,hiddenTabWidths:P})})},[v]);l.useEffect(()=>{c()},[c,r]),Mt(()=>{setTimeout(c,0)});const m=r.map((h,x)=>e.createElement(je,{measuring:!0,key:`$${h.id}Hidden`,id:`${h.id}Measurer`,siblingTabHasFocus:f,focused:x===T,selected:x===n,url:h.url,content:h.content,onTogglePopover:Qe,onToggleModal:Qe})),b=w(E.Tabs,E.TabsMeasurer);return at("resize",c),e.createElement("div",{className:b,ref:s},m,d)});function Qe(){}function Ye({hidden:a,id:n,tabID:r,children:d}){const T=w(E.Panel,a&&E["Panel-hidden"]);return e.createElement("div",{className:T,id:n,role:"tabpanel","aria-labelledby":r,tabIndex:-1},d)}const Ot=l.memo(function({id:n,focused:r,children:d,url:T,accessibilityLabel:f,onClick:v=Zt}){const s=l.useRef(null);l.useEffect(()=>{s.current&&s.current instanceof HTMLElement&&r&&s.current.focus()},[s,r]);const u=w(E.Item),c={id:n,ref:s,onClick:v,className:u,"aria-selected":!1,"aria-label":f},m=T?e.createElement(st,Object.assign({},c,{url:T}),d):e.createElement("button",Object.assign({},c,{ref:s,type:"button"}),d);return e.createElement("li",null,m)});function Zt(){}function Vt({focusIndex:a,disclosureTabs:n,onClick:r=et,onKeyPress:d=et}){const T=n.map(({id:f,content:v,...s},u)=>e.createElement(Ot,Object.assign({key:f},s,{id:f,focused:u===a,onClick:r.bind(null,f)}),v));return e.createElement("ul",{className:E.List,onKeyDown:$t,onKeyUp:d},T)}function et(){}function $t(a){const{key:n}=a;(n==="ArrowLeft"||n==="ArrowRight")&&(a.preventDefault(),a.stopPropagation())}const tt=40;function Ut({activator:a,open:n,onClose:r,onClickPrimaryAction:d,onClickSecondaryAction:T,viewNames:f}){const v=ne(),[s,u]=l.useState(""),[c,m]=l.useState(!1),b=l.useRef(null),h=Lt(),x=f.some(S=>S.trim().toLowerCase()===s.trim().toLowerCase()),g=!s||x||c||s.length>tt;l.useEffect(()=>{if(!(!b.current||h)&&n){ie(b.current);const S=setTimeout(()=>{b.current&&ie(b.current)},50);return()=>clearTimeout(S)}},[n,h]);const P=l.useCallback(S=>{u(S)},[]);async function p(){x||g||(m(!0),await d(s),m(!1),u(""),r())}function y(){T==null||T(),u(""),r()}return e.createElement(R,{activator:a,open:n,onClose:r,title:v.translate("Polaris.Tabs.CreateViewModal.title"),primaryAction:{content:v.translate("Polaris.Tabs.CreateViewModal.create"),onAction:p,disabled:g},secondaryActions:[{content:v.translate("Polaris.Tabs.CreateViewModal.cancel"),onAction:y}]},e.createElement(R.Section,null,e.createElement(Ve,{onSubmit:p},e.createElement(Ze,null,e.createElement("div",{ref:b},e.createElement(ee,{label:v.translate("Polaris.Tabs.CreateViewModal.label"),value:s,onChange:P,autoComplete:"off",maxLength:tt,showCharacterCount:!0,error:x?v.translate("Polaris.Tabs.CreateViewModal.errors.sameName",{name:s}):void 0}))))))}const zt="create-new-view",Ht=({tabs:a,children:n,selected:r,newViewAccessibilityLabel:d,canCreateNewView:T,disabled:f,onCreateNewView:v,onSelect:s,fitted:u,disclosureText:c})=>{const m=ne(),{mdDown:b}=wt(),h=l.useRef(null),x=l.useRef(null),g=l.useRef(null),[P,p]=l.useReducer((o,i)=>({...o,...i}),{disclosureWidth:0,containerWidth:1/0,tabWidths:[],visibleTabs:[],hiddenTabs:[],showDisclosure:!1,tabToFocus:-1,isNewViewModalActive:!1,modalSubmitted:!1,isTabsFocused:!1,isTabPopoverOpen:!1,isTabModalOpen:!1}),{tabToFocus:y,visibleTabs:S,hiddenTabs:_,showDisclosure:L,isNewViewModalActive:I,modalSubmitted:M,disclosureWidth:J,tabWidths:B,containerWidth:de,isTabsFocused:me,isTabModalOpen:F,isTabPopoverOpen:O}=P,te=qe(F),H=qe(O);l.useEffect(()=>{te&&!F?p({isTabsFocused:!0,tabToFocus:r}):H&&!O&&!F&&p({isTabsFocused:!0,tabToFocus:r})},[H,O,te,F,r,y]);const Z=l.useCallback(o=>p({isTabPopoverOpen:o}),[]),V=l.useCallback(o=>p({isTabModalOpen:o}),[]),se=()=>{p({isNewViewModalActive:!1})},be=async o=>{if(!v)return!1;const i=await(v==null?void 0:v(o));return i&&p({modalSubmitted:!0}),i},Me=()=>{p({isNewViewModalActive:!0})},q=l.useCallback(o=>{const i=a.find(N=>N.id===o);if(i==null)return null;const j=a.indexOf(i);s==null||s(j)},[a,s]),Se=l.useCallback((o,i)=>{const j=()=>{var U;q(o.id),(U=o.onAction)==null||U.call(o)},N=a.map(({content:U})=>U),G=o.panelID||`${o.id}-panel`;return e.createElement(je,Object.assign({},o,{key:`${i}-${o.id}`,id:o.id,panelID:n?G:void 0,disabled:f||o.disabled,siblingTabHasFocus:y>-1,focused:i===y,selected:i===r,onAction:j,accessibilityLabel:o.accessibilityLabel,url:o.url,content:o.content,onToggleModal:V,onTogglePopover:Z,viewNames:N,ref:i===r?g:null}))},[f,q,a,n,r,y,V,Z]),Ae=l.useCallback(o=>{const i=o.target,j=i.classList.contains(E.Item),N=i.closest("[data-tabs-focus-catchment]")||j;i.classList.contains(E.DisclosureActivator)||!N||p({isTabsFocused:!0})},[]),Ie=l.useCallback(o=>{var pe,X,z;const i=o.target,j=o.relatedTarget,N=(pe=j==null?void 0:j.closest)==null?void 0:pe.call(j,`.${E.Tabs}`),G=(z=(X=i==null?void 0:i.classList)==null?void 0:X.contains)==null?void 0:z.call(X,E.Tab),U=j==null?void 0:j.classList.contains(E.Item);if(!j&&!F&&!G&&!U){p({tabToFocus:-1});return}if(!N&&!F&&!G&&!U){p({tabToFocus:-1});return}p({isTabsFocused:!1})},[F]),ke=o=>{if(O||F||I)return;const{key:i}=o;(i==="ArrowLeft"||i==="ArrowRight")&&(o.preventDefault(),o.stopPropagation())};l.useEffect(()=>{const{visibleTabs:o,hiddenTabs:i}=Ge(a,r,J,B,de);p({visibleTabs:o,hiddenTabs:i})},[de,J,a,r,B,p]);const ve=l.useCallback(()=>{var i;const o=(i=g.current)==null?void 0:i.querySelector(`.${E["Tab-active"]}`);o&&_e(o.offsetLeft)},[]);l.useEffect(()=>{b&&ve()},[ve,r,b]),l.useEffect(()=>{me&&!L&&p({tabToFocus:r})},[me,r,p,L]);const ge=o=>{const{showDisclosure:i,visibleTabs:j,hiddenTabs:N,tabToFocus:G,isNewViewModalActive:U}=P;if(F||O||U)return;const pe=o.key,X=i||b?j.concat(N):[...j];let z=X.indexOf(G);pe==="ArrowRight"&&(z+=1,z===X.length&&(z=0)),pe==="ArrowLeft"&&(z===-1||z===0?z=X.length-1:z-=1);const Ue=X[z];Ue!=null&&p({tabToFocus:Ue})},we=()=>{p({showDisclosure:!L,tabToFocus:_[0]})},he=()=>{p({showDisclosure:!1})},Ne=l.useCallback(o=>{const{hiddenTabWidths:i,containerWidth:j,disclosureWidth:N}=o,{visibleTabs:G,hiddenTabs:U}=Ge(a,r,N,i,j);p({visibleTabs:G,hiddenTabs:U,disclosureWidth:N,containerWidth:j,tabWidths:i})},[a,r,p]),De=o=>{q(o),he(),p({isTabsFocused:!0})},_e=o=>{setTimeout(()=>{var i,j;if(h.current&&typeof h.current.scroll=="function"){const N=((i=x==null?void 0:x.current)==null?void 0:i.offsetLeft)||0;(j=h==null?void 0:h.current)==null||j.scroll({left:o-N})}},0)},Te=d||m.translate("Polaris.Tabs.newViewAccessibilityLabel"),le=b?[...S,..._]:S,Ee=le.sort((o,i)=>o-i).filter(o=>a[o]).map(o=>Se(a[o],o)),re=S.length<a.length&&!b,Le=w(E.Tabs,u&&E.fitted,re&&E.fillSpace),Be=w(E.Wrapper,T&&E.WrapperWithNewButton),xe=w(E.DisclosureTab,re&&E["DisclosureTab-visible"]),C=w(E.DisclosureActivator),$=e.createElement(e.Fragment,null,e.createElement(k,{as:"span",variant:"bodySm",fontWeight:"medium"},c??m.translate("Polaris.Tabs.toggleTabsLabel")),e.createElement("div",{className:w(E.IconWrap,re&&L&&E["IconWrap-open"])},e.createElement(ue,{source:nt,tone:"subdued"}))),ye=e.createElement(lt,{type:"button",className:C,onClick:we,"aria-label":c??m.translate("Polaris.Tabs.toggleTabsLabel"),disabled:f},$),Fe=_.map(o=>a[o]),Tt=a.map(({content:o})=>o),Et=e.createElement(Rt,{tabToFocus:y,activator:ye,selected:r,tabs:a,siblingTabHasFocus:y>-1,handleMeasurement:Ne}),$e=e.createElement(je,{id:zt,content:Te,actions:[],onAction:Me,onFocus:()=>{M&&p({tabToFocus:r,modalSubmitted:!1})},icon:e.createElement(ue,{source:mt,accessibilityLabel:Te}),disabled:f,onTogglePopover:Z,onToggleModal:V,tabIndexOverride:0}),xt=n?a.map((o,i)=>r===i?e.createElement(Ye,{id:a[i].panelID||`${a[i].id}-panel`,tabID:a[i].id,key:a[i].id},n):e.createElement(Ye,{id:a[i].panelID||`${a[i].id}-panel`,tabID:a[i].id,key:a[i].id,hidden:!0})):null;return e.createElement("div",{className:E.Outer},e.createElement(K,{padding:{md:"200"}},Et,e.createElement("div",{className:Be,ref:h},e.createElement("div",{className:E.ButtonWrapper,ref:x},e.createElement("ul",{role:Ee.length>0?"tablist":void 0,className:Le,onFocus:Ae,onBlur:Ie,onKeyDown:ke,onKeyUp:ge,"data-tabs-focus-catchment":!0},Ee,b||le.length===0?null:e.createElement("li",{className:xe,role:"presentation"},e.createElement(ce,{preferredPosition:"below",preferredAlignment:"left",activator:ye,active:re&&L,onClose:he,autofocusTarget:"first-node"},e.createElement(Vt,{focusIndex:_.indexOf(y),disclosureTabs:Fe,onClick:De,onKeyPress:ge})))),T&&le.length>0?e.createElement("div",{className:E.NewTab},e.createElement(Ut,{open:I,onClose:se,onClickPrimaryAction:be,viewNames:Tt,activator:f?$e:e.createElement("div",null,e.createElement(St,{content:m.translate("Polaris.Tabs.newViewTooltip"),preferredPosition:"above",hoverDelay:400},$e))})):null))),xt)};var D={Tag:"Polaris-Tag",disabled:"Polaris-Tag--disabled",clickable:"Polaris-Tag--clickable",linkable:"Polaris-Tag--linkable",removable:"Polaris-Tag--removable",Button:"Polaris-Tag__Button",Link:"Polaris-Tag__Link",segmented:"Polaris-Tag--segmented",Text:"Polaris-Tag__Text",sizeLarge:"Polaris-Tag--sizeLarge",overlay:"Polaris-Tag--overlay"};function Q({children:a,disabled:n=!1,onClick:r,onRemove:d,accessibilityLabel:T,url:f,size:v}){const s=ne(),u=d&&f,c=w(D.Tag,n&&D.disabled,r&&D.clickable,d&&D.removable,f&&!n&&D.linkable,u&&D.segmented,v&&D[At("size",v)]);let m=T;m||(m=typeof a=="string"?a:void 0);const b=e.createElement(k,{as:"span",variant:"bodySm",truncate:!0},e.createElement("span",{title:m,className:D.Text},a));if(r)return e.createElement("button",{type:"button",disabled:n,className:c,onClick:r},b);const h=s.translate("Polaris.Tag.ariaLabel",{children:m||""}),x=d?e.createElement("button",{type:"button","aria-label":h,className:w(D.Button,u&&D.segmented),onClick:d,onMouseUp:rt,disabled:n},e.createElement(ue,{source:Ct})):null,g=f&&!n?e.createElement("a",{className:w(D.Link,u&&D.segmented),href:f},b):b;return e.createElement("span",{className:c,"aria-disabled":n},g,v==="large"&&e.createElement("span",{className:D.overlay}),x)}var bt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 12.75a.75.75 0 0 1-1.5 0v-6.69l-1.72 1.72a.75.75 0 0 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1-1.06 1.06l-1.72-1.72v6.69Z"}),e.createElement("path",{d:"M16.5 13.75a.75.75 0 0 0-1.5 0v.76a.75.75 0 0 1-.75.75h-8.5a.75.75 0 0 1-.75-.75v-.76a.75.75 0 0 0-1.5 0v.76a2.25 2.25 0 0 0 2.25 2.25h8.5a2.25 2.25 0 0 0 2.25-2.25v-.76Z"}))};bt.displayName="ExportIcon";var ht=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M3 6a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1-.75-.75Z"}),e.createElement("path",{d:"M6.75 14a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Z"}),e.createElement("path",{d:"M5.5 9.25a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z"}))};ht.displayName="FilterIcon";var pt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 4.25a.75.75 0 0 0-1.5 0v6.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72v-6.69Z"}),e.createElement("path",{d:"M16.5 13.75a.75.75 0 0 0-1.5 0v.8a.75.75 0 0 1-.75.75h-8.5a.75.75 0 0 1-.75-.75v-.8a.75.75 0 0 0-1.5 0v.8a2.25 2.25 0 0 0 2.25 2.25h8.5a2.25 2.25 0 0 0 2.25-2.25v-.8Z"}))};pt.displayName="ImportIcon";var Oe=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};Oe.displayName="PlusIcon";var ft=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}))};ft.displayName="SearchIcon";var vt=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M7.75 6.06v7.69a.75.75 0 0 1-1.5 0v-7.69l-1.72 1.72a.75.75 0 0 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 1 1-1.06 1.06l-1.72-1.72Z"}),e.createElement("path",{d:"M13.75 6.25a.75.75 0 0 0-1.5 0v7.69l-1.72-1.72a.75.75 0 1 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72v-7.69Z"}))};vt.displayName="SortIcon";function ia(){const[a,n]=l.useState(0),[r,d]=l.useState(!1),[T,f]=l.useState(!1),[v,s]=l.useState(""),[u,c]=l.useState(!1),[m,b]=l.useState(!1),[h,x]=l.useState([]),[g,P]=l.useState(""),p=l.useCallback(M=>{n(M)},[]),y=l.useCallback(M=>{P(M)},[]),S=l.useCallback(()=>{g&&!h.includes(g)&&(x([...h,g]),P(""))},[g,h]),_=l.useCallback(M=>{x(h.filter(J=>J!==M))},[h]),L=[{id:"all-subscribers",content:"All",accessibilityLabel:"All subscribers",panelID:"all-subscribers-content"},{id:"active-subscribers",content:"Active",accessibilityLabel:"Active subscribers",panelID:"active-subscribers-content"},{id:"unsubscribed",content:"Unsubscribed",accessibilityLabel:"Unsubscribed",panelID:"unsubscribed-content"}],I=[[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(fe,{customer:!0,size:"small",name:"John Doe"}),t.jsx(k,{variant:"bodyMd",fontWeight:"semibold",children:"John Doe"})]}),"john.doe@example.com",t.jsx(oe,{status:"success",children:"Active"}),"Jun 15, 2023",t.jsxs(A,{gap:"100",children:[t.jsx(Q,{children:"Customer"}),t.jsx(Q,{children:"VIP"})]})],[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(fe,{customer:!0,size:"small",name:"Jane Smith"}),t.jsx(k,{variant:"bodyMd",fontWeight:"semibold",children:"Jane Smith"})]}),"jane.smith@example.com",t.jsx(oe,{status:"success",children:"Active"}),"Jul 22, 2023",t.jsx(A,{gap:"100",children:t.jsx(Q,{children:"Customer"})})],[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(fe,{customer:!0,size:"small",name:"Robert Johnson"}),t.jsx(k,{variant:"bodyMd",fontWeight:"semibold",children:"Robert Johnson"})]}),"robert.j@example.com",t.jsx(oe,{status:"success",children:"Active"}),"Aug 5, 2023",t.jsx(A,{gap:"100",children:t.jsx(Q,{children:"New"})})],[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(fe,{customer:!0,size:"small",name:"Emily Wilson"}),t.jsx(k,{variant:"bodyMd",fontWeight:"semibold",children:"Emily Wilson"})]}),"emily.wilson@example.com",t.jsx(oe,{status:"critical",children:"Unsubscribed"}),"Sep 12, 2023",t.jsx(A,{gap:"100",children:t.jsx(Q,{children:"Former"})})],[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(fe,{customer:!0,size:"small",name:"Michael Brown"}),t.jsx(k,{variant:"bodyMd",fontWeight:"semibold",children:"Michael Brown"})]}),"michael.brown@example.com",t.jsx(oe,{status:"success",children:"Active"}),"Oct 3, 2023",t.jsxs(A,{gap:"100",children:[t.jsx(Q,{children:"Customer"}),t.jsx(Q,{children:"Engaged"})]})]];return t.jsxs(Pt,{children:[t.jsxs(It,{title:"Subscribers",primaryAction:{content:"Add subscriber",onAction:()=>d(!0)},secondaryActions:[{content:"Import",icon:pt,onAction:()=>f(!0)},{content:"Export",icon:bt,onAction:()=>console.log("Export action")}],children:[t.jsx(yt,{title:"Subscribers"}),t.jsxs(Y,{gap:"500",children:[t.jsx(Ke,{children:t.jsx(Ke.Section,{children:t.jsxs(A,{gap:"400",wrap:!1,children:[t.jsx(Pe,{title:"Total Subscribers",value:"2,543",icon:Ce,color:"#4B7DF3"}),t.jsx(Pe,{title:"Active",value:"2,210",icon:Ce,color:"#50B83C"}),t.jsx(Pe,{title:"Unsubscribed",value:"333",icon:Ce,color:"#DE3618"}),t.jsx(Pe,{title:"Growth Rate",value:"+12.4%",icon:Ce,color:"#9C6ADE"})]})})}),t.jsx(Re,{padding:"0",children:t.jsx(Ht,{tabs:L,selected:a,onSelect:p,fitted:!0,children:t.jsx(Re,{children:t.jsxs(Y,{gap:"400",children:[t.jsxs(A,{gap:"200",align:"start",children:[t.jsx("div",{style:{flex:1},children:t.jsx(ee,{placeholder:"Search subscribers",value:v,onChange:s,prefix:t.jsx(ue,{source:ft}),clearButton:!0,onClearButtonClick:()=>s("")})}),t.jsx(ce,{active:u,activator:t.jsx(W,{icon:ht,onClick:()=>c(!u),children:"Filter"}),onClose:()=>c(!1),children:t.jsx(ce.Pane,{children:t.jsx(K,{padding:"400",children:t.jsxs(Y,{gap:"400",children:[t.jsx(k,{variant:"headingSm",as:"h3",children:"Filter subscribers"}),t.jsx(Je,{label:"Status",options:[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Unsubscribed",value:"unsubscribed"}],onChange:()=>{},value:"all"}),t.jsx(ee,{label:"Tags",value:g,onChange:y,placeholder:"Add tags",connectedRight:t.jsx(W,{onClick:S,icon:Oe})}),h.length>0&&t.jsx(A,{gap:"100",wrap:!0,children:h.map(M=>t.jsx(Q,{onRemove:()=>_(M),children:M},M))}),t.jsxs(A,{gap:"200",children:[t.jsx(W,{onClick:()=>c(!1),children:"Apply"}),t.jsx(W,{variant:"plain",onClick:()=>c(!1),children:"Cancel"})]})]})})})}),t.jsx(ce,{active:m,activator:t.jsx(W,{icon:vt,onClick:()=>b(!m),children:"Sort"}),onClose:()=>b(!1),children:t.jsx(ce.Pane,{children:t.jsx(K,{padding:"400",children:t.jsxs(Y,{gap:"200",children:[t.jsx(k,{variant:"headingSm",as:"h3",children:"Sort by"}),t.jsx(W,{variant:"plain",onClick:()=>b(!1),children:"Name A-Z"}),t.jsx(W,{variant:"plain",onClick:()=>b(!1),children:"Name Z-A"}),t.jsx(W,{variant:"plain",onClick:()=>b(!1),children:"Date added (newest first)"}),t.jsx(W,{variant:"plain",onClick:()=>b(!1),children:"Date added (oldest first)"})]})})})})]}),I.length>0?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{columnContentTypes:["text","text","text","text","text"],headings:["Name","Email","Status","Date Added","Tags"],rows:I}),t.jsx(K,{paddingBlockStart:"400",children:t.jsx(A,{align:"center",distribute:"center",children:t.jsx(kt,{hasPrevious:!0,onPrevious:()=>{console.log("Previous")},hasNext:!0,onNext:()=>{console.log("Next")}})})})]}):t.jsx(Dt,{heading:"Add your first subscriber",action:{content:"Add subscriber",onAction:()=>d(!0)},image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:t.jsx("p",{children:"Start building your subscriber list to send targeted campaigns"})})]})})})})]})]}),t.jsx(R,{open:r,onClose:()=>d(!1),title:"Add new subscriber",primaryAction:{content:"Add",onAction:()=>d(!1)},secondaryActions:[{content:"Cancel",onAction:()=>d(!1)}],children:t.jsx(R.Section,{children:t.jsxs(Y,{gap:"400",children:[t.jsx(ee,{label:"First name",autoComplete:"off"}),t.jsx(ee,{label:"Last name",autoComplete:"off"}),t.jsx(ee,{label:"Email",type:"email",autoComplete:"off"}),t.jsx(Je,{label:"Status",options:[{label:"Active",value:"active"},{label:"Unsubscribed",value:"unsubscribed"}],onChange:()=>{},value:"active"}),t.jsx(ee,{label:"Tags",value:g,onChange:y,placeholder:"Add tags",connectedRight:t.jsx(W,{onClick:S,icon:Oe})}),h.length>0&&t.jsx(A,{gap:"100",wrap:!0,children:h.map(M=>t.jsx(Q,{onRemove:()=>_(M),children:M},M))})]})})}),t.jsx(R,{open:T,onClose:()=>f(!1),title:"Import subscribers",primaryAction:{content:"Import",onAction:()=>f(!1)},secondaryActions:[{content:"Cancel",onAction:()=>f(!1)}],children:t.jsx(R.Section,{children:t.jsxs(Y,{gap:"400",children:[t.jsx(k,{variant:"bodyMd",as:"p",children:"Import subscribers from a CSV file. The file should have the following columns: email, first_name, last_name, status, tags."}),t.jsx(W,{fullWidth:!0,children:"Choose file"}),t.jsxs(k,{variant:"bodySm",as:"p",children:["Download a"," ",t.jsx(W,{variant:"plain",size:"slim",children:"sample CSV template"})]})]})})})]})}function Pe({title:a,value:n,icon:r,color:d}){return t.jsx(Re,{children:t.jsxs(Y,{gap:"200",children:[t.jsxs(A,{gap:"200",align:"center",children:[t.jsx(K,{style:{background:`${d}20`},borderRadius:"100",padding:"200",children:t.jsx(ue,{source:r,color:"base"})}),t.jsx(k,{variant:"bodyMd",color:"subdued",children:a})]}),t.jsx(k,{variant:"headingLg",children:n})]})})}export{ia as default};
